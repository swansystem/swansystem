<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwanSystem - Automatisation Stratégique pour Entreprises</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Lora:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>

        :root {
            --color-base-dark: #ffffff;
            --color-secondary-dark: #F4F3F5;
            --color-accent-warm: #1D1D1F;
            --color-text-light: #1D1D1F;
            
            --color-accent-warm-hover: #BF9A6F;
        }

        /* Styles globaux */
        body {
            font-family: 'Montserrat', sans-serif;
            color: var(--color-text-light);
            background-color: var(--color-base-dark);
            line-height: 1.7;
            margin: 0;
            padding: 0;
            transition: overflow 0.3s ease-in-out;
        }

        body.no-scroll {
            overflow: hidden;
        }

        h1, h2, h3, h4 {
            font-family: 'Lora', serif;
            color: var(--color-text-light);
            line-height: 1.2;
        }

        h1 { font-size: 3.8rem; font-weight: 700; }
        h2 { font-size: 2.8rem; font-weight: 700; }
        h3 { font-size: 2.0rem; font-weight: 700; }
        h4 { font-size: 1.5rem; font-weight: 600; }

        p {
            font-size: 1.1rem;
            color: var(--color-text-light);
        }
        .titrePrincipale{
            font-size: 40px;
            font-weight: bolder;
        }

        .container {
            max-width: 1280px;
            margin-left: auto;
            margin-right: auto;
            padding-left: 1.5rem;
            padding-right: 1.5rem;
        }

        .header-nav {
            background-color: var(--color-base-dark);
            box-shadow: 0 2px 15px rgba(0,0,0,0.3);
            padding: 1.5rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-nav .brand {
            display: flex;
            align-items: center;
            color: var(--color-text-light);
            font-family: 'Lora', serif;
            font-size: 2.2rem;
            font-weight: 700;
        }
       
        .header-nav .brand img {
            height: 40px;
            margin-right: 10px;
            object-fit: contain;
        }
       
        .header-nav .logo-text {
            color: var(--color-text-light);
            text-decoration: none;
        }

        .header-nav a { /* Liens de navigation (hors logo) */
            color: var(--color-text-light);
            font-weight: 500;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        .header-nav a:hover {
            color: #BF9A6F;
        }

        /* --- Hero Section (Automatisez votre succès) --- */
        .hero-section {
            background: linear-gradient(to bottom, #D3EBF5, #FFFFFF);
            padding: 8rem 0;
            text-align: center;
        }

        /* --- Service Cards Section --- */
        .services-section {
            padding: 6rem 0;
            background: linear-gradient(to top, #D3EBF5, #FFFFFF);
        }
        .service-card {
            background-color: var(--color-secondary-dark);
            border-radius: 0.75rem;
        
            text-align: left;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
            position: relative;
            display: flex;
            flex-direction: column;
            height: 350px;
            box-sizing: border-box;
        }
        .service-card:hover {
            transform: translateY(-0.5rem);
            box-shadow: 0 10px 25px rgba(0,0,0,0.6);
        }
        
        .service-card img.icon {
            width: 3rem;
            height: 3rem;
            object-fit: contain;
            margin-bottom: 1.5rem;
        }

        .service-card lottie-player {
            width: 3rem;
            height: 3rem;
            margin-bottom: 1.5rem;
        }

        .service-card[id^="conversation-card-"] { /* Cible toutes les cartes avec un ID commençant par 'conversation-card-' */
            color: #fff;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            line-height: 1.6;
            padding: 15px;
            justify-content: flex-start;
            overflow: hidden;
            position: relative;
            box-sizing: border-box;
        }

        #conversation-card-1 {
            background: linear-gradient(to bottom right, rgb(69, 110, 128), #D3EBF5);
        }
        #conversation-card-2 {
            background: linear-gradient(to bottom, rgb(69, 110, 128), #D3EBF5);
        }
        #conversation-card-3 {
            background: linear-gradient(to bottom left, rgb(69, 110, 128), #D3EBF5);
        }

        .overlay-text-block h2,
        .overlay-text-block h3,
        .overlay-text-block p {
            color: white;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
        }


        .conversation-card-title {
            margin-top: 15px;
            margin-bottom: 30px;
            text-align: center;
            color: #333; 
            font-size: 1.4em; 
            font-weight: bold;
            width: 100%; 
        }

        .conversation-messages {
            flex-grow: 1; 
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            overflow-y: auto;
            min-height: 0;
            width: 100%; 
            padding-top: 0;
            box-sizing: border-box;
        }

        .conversation-message {
            max-width: 90%;
            padding: 8px 12px;
            border-radius: 15px;
            white-space: pre-wrap;
            word-wrap: break-word;
            margin-bottom: 10px;
            opacity: 0; 
            transform: translateY(10px); 
            transition: opacity 0.5s ease-out, transform 0.5s ease-out; 
            box-sizing: border-box; 
            width: fit-content; 
            min-width: 50px; 
            
            background: linear-gradient(45deg, #D3EBF5, #FFFFFF); 
            color: #333; 
            border-bottom-left-radius: 5px;
            margin-right: auto;
            margin-left: 0; 
        }

        .conversation-message.user {
            background: linear-gradient(45deg, #FFFFFF, #D3EBF5); 
            border-bottom-right-radius: 5px;
            margin-left: auto; /* Pousse le message à droite */
            margin-right: 0; 
        }

        .conversation-message.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- About/Philosophy Section --- */
        .philosophy-section {
            padding: 6rem 0;
            background: linear-gradient(to bottom, #D3EBF5, #FFFFFF);
        }
        .philosophy-image {
            border-radius: 0.75rem;
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        /* --- CTA Section --- */
        .cta-section {
            background-color: var(--color-secondary-dark);
            color: var(--color-accent-warm-hover);
            padding: 6rem 0;
            text-align: center;
        }
        .cta-section h2 {
            color: var(--color-text-secondary-dark);
            margin-bottom: 2rem;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }
        .cta-section p {
            color: var(--color-base-dark);
            margin-bottom: 3rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            font-size: 1.2rem;
        }

        /* --- Contact Section --- */
        .contact-section {
            padding: 6rem 0;
            background: linear-gradient(to top, #D3EBF5, #FFFFFF);
        }
        .contact-form-container {
            max-width: 600px; 
            margin: 0 auto;
            text-align: left;
        }
        .contact-form {
            background-color: var(--color-secondary-dark);
            padding: 3rem;
            border-radius: 0.75rem;
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }
        .contact-form label {
            font-weight: 600;
            color: var(--color-text-light);
            margin-bottom: 0.5rem;
            display: block;
        }
        .contact-form input, .contact-form textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--color-base-dark);
            border-radius: 0.5rem;
            background-color: var(--color-base-dark);
            color: var(--color-text-light);
            font-size: 1rem;
        }
        .contact-form input:focus, .contact-form textarea:focus {
            outline: none;
            border-color: var(--color-accent-warm);
            box-shadow: 0 0 0 3px rgba(222, 174, 131, 0.4);
        }

        /* --- Footer --- */
        .footer-section {
            background-color: #F4F3F5;
            color: var(--color-text-light);
            padding: 3rem 0;
            text-align: center;
            font-size: 0.9rem;
            border-top: 1px solid var(--color-secondary-dark);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }

        /* Style for footer email link */
        .footer-email-link {
            color: #333;
            text-decoration: underline;
            transition: color 0.3s ease;
        }

        .footer-email-link:hover {
            color: #BF9A6F;
        }


        /* Responsive adjustments */
        @media (max-width: 1024px) {
            h1 { font-size: 3rem; }
            h2 { font-size: 2.2rem; }
            h3 { font-size: 1.6rem; }
            .hero-section { padding: 6rem 0; }
            .services-section, .philosophy-section, .cta-section, .contact-section { padding: 5rem 0; }
            .philosophy-content {
                flex-direction: column;
                text-align: center;
            }
            .philosophy-text, .philosophy-image-wrapper { width: 100%; max-width: 600px; }
            .philosophy-text { margin-top: 2rem; }
            .process-circles { gap: 2rem; }
            .process-circle { width: 120px; height: 120px; font-size: 2rem; }
        }

        @media (max-width: 768px) {
            .header-nav .container {
                flex-direction: column;
            }
            .header-nav nav ul {
                margin-top: 1rem;
                flex-wrap: wrap;
                justify-content: center;
            }
            .header-nav nav ul li {
                margin: 0.5rem 1rem;
            }
            h1 { font-size: 2.5rem; }
            h2 { font-size: 1.8rem; }
            h3 { font-size: 1.4rem; }
            p { font-size: 1rem; }
            .hero-section { padding: 4rem 0; }
            .services-section, .philosophy-section, .cta-section, .contact-section { padding: 4rem 0; }
            .contact-form { padding: 2rem; }
            .process-circles { flex-direction: column; gap: 1.5rem; }
            .process-circle { width: 100px; height: 100px; font-size: 1.8rem; }
        }

        @media (max-width: 480px) {
            h1 { font-size: 2rem; }
            h2 { font-size: 1.6rem; }
            h3 { font-size: 1.2rem; }
            .btn-primary { padding: 12px 20px; font-size: 1rem; }
            .container { padding-left: 1rem; padding-right: 1rem; }
            .process-circle { width: 80px; height: 80px; font-size: 1.5rem; }
        }

        /* Styles spécifiques pour le bouton Calendly */
        .calendly-button-container {
            display: flex;
            justify-content: center;
            margin-top: 3rem;
            margin-bottom: 4rem;
        }

        .calendly-button {
            display: inline-flex;
            align-items: center;
            background-color: #001f3f;
            border: 2px solid #001f3f;
            color: white;
            padding: 1rem 1rem 1rem 2rem;
            border-radius: 9999px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
        }

        /* Effet de décollement au survol */
        .calendly-button:hover {
            transform: translateY(-0.5rem);
            box-shadow: 0 10px 25px rgba(0,0,0,0.6);
        }

        .calendly-button-text {
            padding-right: 1rem;
        }

        .calendly-button-circle {
            background-color: #333;
            border-radius: 50%;
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
            position: relative;
            transform: translateX(0);
            margin-right: -0.5rem;
            margin-left: 0.5rem;
        }

        .calendly-button-arrow {
            color: white;
            font-size: 1.1rem;
            transition: transform 0.3s ease-out;
        }

        .calendly-button:hover .calendly-button-arrow {
            transform: translateX(10px);
        }

        /* Styles pour le pop-up Calendly */
        .calendly-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1050;
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease-in-out
        }

        .calendly-overlay.is-active {
            visibility: visible;
            opacity: 1;
            pointer-events: auto;
        }

        .calendly-popup-content {
            background-color: white;
            border-radius: 0.75rem;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            overflow: hidden;
            width: 90%;
            max-width: 800px;
            height: 90%;
            max-height: 650px;
            display: flex;
            flex-direction: column;
        }

        .calendly-popup-content .close-button {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: #333;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 1001;
            transition: background-color 0.2s ease;
        }

        .calendly-popup-content .close-button:hover {
            background-color: #555;
        }

        .calendly-inline-widget-container {
            flex-grow: 1;
            min-height: 0;
            width: 100%;
            height: 100%;
            background-color: white;
        }
        /* Assure que la div où le widget Calendly est injecté remplit son conteneur */
        .calendly-inline-widget { 
            width: 100%;
            height: 100%; 
            min-height: 500px;
        }
        .calendly-inline-widget iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>

    <header class="header-nav">
        <div class="container flex justify-between items-center">
            <div class="brand">
                <img src="swanlogo.png" alt="Logo SwanSystem" onerror="this.onerror=null;this.src='https://placehold.co/40x40/464547/BCBDBF?text=Logo';" />
                <span class="logo-text">SwanSystem</span>
            </div>
            <nav>
                <ul class="flex space-x-8">
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section id="accueil" class="hero-section">
        <div class="container">
            <h1 class="mb-6 titrePrincipale">Des agents intelligents pour<br>transformer vos visiteurs</br>en rendez-vous qualifiés, 24h/24</h1>
        </div>
    </section>

    <section id="services" class="services-section">
        <div class="container text-center">
            <p class="mb-10 text-lg max-w-2xl mx-auto">Nous concevons et intégrons des agents conversationnels intelligents qui accueillent vos visiteurs, répondent à leurs questions, et planifient des rendez-vous à votre place - automatiquement.</p>
            <h2 class="mb-4">Prêt à faire décoller vos prises de RDV sans augmenter votre budget pub ?</h2>
            
            <!-- Bouton Calendly -->
            <div class="calendly-button-container">
                <a href="#" class="calendly-button" id="open-calendly">
                    <span class="calendly-button-text">Réservez votre démonstration gratuite</span>
                    <div class="calendly-button-circle">
                        <i class="fas fa-arrow-right calendly-button-arrow"></i>
                    </div>
                </a>
            </div>

            <p class="mb-10 text-lg max-w-2xl mx-auto">Nos agents sont conçus sur mesure pour épouser la singularité de chaque entreprise. Votre vision, nos compétences : une alliance parfaite pour une automatisation qui vous ressemble, entièrement adaptée à vos processus et objectifs spécifiques.</p>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- SERVICE-CARD 1 -->
                <div class="service-card" id="conversation-card-1">
                    <h3 class="conversation-card-title">Comptabilité</h3>
                    <div class="conversation-messages">
                    </div>
                </div>

                <!-- SERVICE-CARD 2 -->
                <div class="service-card" id="conversation-card-2">
                    <h3 class="conversation-card-title">Assistance juridique</h3>
                    <div class="conversation-messages">
                    </div>
                </div>
                
                <!-- SERVICE-CARD 3 -->
                <div class="service-card" id="conversation-card-3">
                    <h3 class="conversation-card-title">Architecture & Urbanisme</h3>
                    <div class="conversation-messages">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Image reseau.png with text overlays -->
    <div class="relative w-full h-auto overflow-hidden">
        <img src="reseau.png" alt="Réseau d'automatisation" class="w-full h-auto object-cover" onerror="this.onerror=null;this.src='https://placehold.co/1920x600/ADADAF/2B2B2B?text=Image+reseau.png+non+trouvée';">
        
        <!-- Overlay container for absolute positioning -->
        <div class="absolute inset-0 text-white">
            <!-- Top Title -->
            <div class="absolute top-[5%] left-1/2 -translate-x-1/2 w-full max-w-4xl px-4">
                <h2 class="text-xl md:text-3xl lg:text-4xl font-bold text-center">Les différents types de chatbots</h2>
            </div>

            <!-- Left Chatbot Section -->
            <div class="absolute top-1/4 left-[5%] w-[40%] md:w-1/4 p-4">
                <h3 class="text-base md:text-lg lg:text-xl font-bold mb-2 text-center">Chatbot à questions prédéfinies</h3>
                <p class="text-sm md:text-base lg:text-lg text-justify">Ce type de chatbot suit un scénario précis, avec des questions et des réponses prédéfinies. Il est idéal pour guider l’utilisateur pas à pas, répondre à des demandes simples ou automatiser des parcours répétitifs. Facile à personnaliser, il garantit un contrôle total sur le déroulé des échanges.</p>
            </div>

            <!-- Right Chatbot Section -->
            <div class="absolute top-1/4 right-[5%] w-[40%] md:w-1/4 p-4">
                <h3 class="text-base md:text-lg lg:text-xl font-bold mb-2 text-center">Chatbot avec IA</h3>
                <p class="text-sm md:text-base lg:text-lg text-justify">Basé sur une IA entraînée, ce chatbot comprend le langage naturel et répond de manière autonome, sans avoir besoin de scripts préétablis. Il s’adapte aux demandes complexes, improvise en fonction du contexte et offre une interaction plus fluide et naturelle.</p>
            </div>
        </div>
    </div>
    <!-- END Image reseau.png with text overlays -->

    <!-- New section for the bottom paragraph -->
    <section class="bg-[#D3EBF5] py-2 text-center text-[#1D1D1F]" style="min-height: 100px;">
        <div class="container">
            <h3 class="text-base md:text-lg lg:text-xl font-bold mb-2">Combiner les deux pour plus d’efficacité</h3>
            <p class="text-sm md:text-base lg:text-lg max-w-4xl mx-auto">Il est possible de combiner un chatbot à questions prédéfinies avec un module d’intelligence artificielle. Cette approche hybride permet de bénéficier à la fois de la précision d’un scénario maîtrisé et de la flexibilité de l’IA, pour une expérience utilisateur à la fois efficace et intelligente.</p>
        </div>
    </section>
    <!-- END New section for the bottom paragraph -->

    <section id="avantages" class="philosophy-section">
        <div class="container flex flex-col md:flex-row items-center gap-16">
            <div class="md:w-1/2">
                <img src="chatPresentation.png" alt="Image illustrant le chatbot" onerror="this.onerror=null;this.src='https://placehold.co/600x400/ADADAF/2B2B2B?text=Image';" class="philosophy-image w-full h-auto object-cover">
            </div>
            <div class="md:w-1/2 philosophy-content text-left">
                <h2 class="mb-8">L'ingénierie de la fluidité : notre philosophie SwanSystem.</h2>
                <p class="mb-6">Comme un architecte conçoit des espaces qui optimisent le mouvement et la fonction, SwanSystem développe des solutions d'automatisation qui restructurent et fluidifient vos processus d'entreprise. Nous ne nous contentons pas d'intégrer des outils ; nous bâtissons des systèmes intelligents qui s'adaptent à vos besoins spécifiques.</p>
                <p>Notre approche est méticuleuse : analyse approfondie, conception sur mesure, déploiement transparent et suivi rigoureux. Chaque automate est une pièce maîtresse conçue pour s'harmoniser avec votre écosystème existant et propulser votre croissance de manière durable et efficace.</p>
                <a href="#contact" class="btn-primary mt-8">Bâtir votre futur avec nous</a>
            </div>
        </div>
    </section>

    <section id="contact" class="contact-section">
        <div class="container text-center">
            <h2 class="mb-4">Contactez-nous.</h2>
            <p class="mb-12 text-lg max-w-2xl mx-auto">Nous serions ravis de discuter de votre projet et de la manière dont SwanSystem peut vous aider à atteindre vos objectifs.</p>

            <div class="contact-form-container">
                <div class="contact-form text-left">
                    <h3 class="mb-6">Envoyez-nous un message</h3>
                    <form class="space-y-6" action="https://hook.eu2.make.com/0vbkkkmccov653o9i7e6jb6yr4pqfwnb" method="POST">
                        <div>
                            <label for="contact-name">Nom Complet</label>
                            <input type="text" id="contact-name" name="name" class="mt-2" required>
                        </div>
                        <div>
                            <label for="contact-email">Email</label>
                            <input type="email" id="contact-email" name="email" class="mt-2" required>
                        </div>
                        <div>
                            <label for="contact-company">Nom de l'entreprise</label>
                            <input type="text" id="contact-company" name="company" class="mt-2">
                        </div>
                        <div>
                            <label for="contact-message">Votre Message</label>
                            <textarea id="contact-message" name="message" rows="5" class="mt-2" required></textarea>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn-primary">Envoyer le message</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer-section">
        <div class="container">
            <p class="mb-4">&copy; 2025 SwanSystem. Tous droits réservés.</p>
            <p>Email: <a href="mailto:contact.swansystem@gmail.com" class="footer-email-link">contact.swansystem@gmail.com</a></p>
        </div>
    </footer>

    <div class="calendly-overlay" id="calendly-overlay">
        <div class="calendly-popup-content">
            <span class="close-button" id="calendly-close-button"><i class="fas fa-times"></i></span>
            <div class="calendly-inline-widget-container">
                <div class="calendly-inline-widget" data-url="https://calendly.com/swansystem-contact/30min"></div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const serviceCardRocket = document.getElementById('service-card-rocket');
            const rocketSvg = document.getElementById('rocket-svg');
            const rocketLottie = document.getElementById('rocket-lottie');

            if (serviceCardRocket && rocketSvg && rocketLottie) {
                rocketSvg.style.display = 'block';
                rocketLottie.style.display = 'none';

                serviceCardRocket.addEventListener('mouseover', () => {
                    rocketSvg.style.display = 'none';
                    rocketLottie.style.display = 'block';
                    rocketLottie.play();
                });

                serviceCardRocket.addEventListener('mouseout', () => {
                    rocketLottie.stop();
                    rocketLottie.style.display = 'none';
                    rocketSvg.style.display = 'block';
                });
            }

            const openCalendlyButton = document.getElementById('open-calendly');
            const calendlyOverlay = document.getElementById('calendly-overlay');
            const closeCalendlyButton = document.getElementById('calendly-close-button');
            
            let isCalendlyActive = false; // Pour suivre l'état du calendrier

            window.openCalendlyPopup = (event) => {
                if (event) event.preventDefault(); 
                isCalendlyActive = true;
                calendlyOverlay.classList.remove('is-hovering'); 
                calendlyOverlay.classList.add('is-active'); 
                document.body.classList.add('no-scroll'); 

                if (!window.Calendly && !document.querySelector('script[src*="calendly.com/assets/external/widget.js"]')) {
                    const script = document.createElement('script');
                    script.type = 'text/javascript';
                    script.src = 'https://assets.calendly.com/assets/external/widget.js';
                    script.async = true;
                    document.body.appendChild(script);
                }
            };

            // Écouteur pour le bouton principal de la page
            if (openCalendlyButton) {
                openCalendlyButton.addEventListener('click', window.openCalendlyPopup); 
            }

            if (closeCalendlyButton) {
                closeCalendlyButton.addEventListener('click', () => {
                    calendlyOverlay.classList.remove('is-active');
                    isCalendlyActive = false;
                    document.body.classList.remove('no-scroll');
                });
            }

            if (calendlyOverlay) {
                calendlyOverlay.addEventListener('click', (e) => {
                    if (e.target === calendlyOverlay) {
                        calendlyOverlay.classList.remove('is-active');
                        isCalendlyActive = false;
                        document.body.classList.remove('no-scroll');
                    }
                });
            }

            // Données de conversation centralisées pour chaque carte
            const allConversationsData = {
                "conversation-card-1": [
                    {"speaker": "Agent", "text": "Bonjour, comment puis-je vous aider ?"},
                    {"speaker": "Client", "text": "J'ai besoin d'un comptable"},
                    {"speaker": "Agent", "text": "Très bien, quel est le statut de votre entreprise ?"},
                    {"speaker": "Client", "text": "SCI"}
                ],
                "conversation-card-2": [
                    {"speaker": "Agent", "text": "Bonjour, comment puis-je vous aider ?"},
                    {"speaker": "Client", "text": "J'ai besoin d'un conseil juridique"},
                    {"speaker": "Agent", "text": "Quel est le domaine concerné par votre demande ?"},
                    {"speaker": "Client", "text": "Droit immobilier"}
                ],
                "conversation-card-3": [
                    {"speaker": "Agent", "text": "Bonjour et bienvenue chez Archi 👋\nPouvez-vous me dire ce que vous cherchez ?"},
                    {"speaker": "Client", "text": "Obtenir un permis ou des plans"},
                    {"speaker": "Agent", "text": "Quel type de document cherchez-vous à obtenir ?"},
                    {"speaker": "Client", "text": "Plans pour dépôt de dossier"}
                ]
            };

            // Cible les cartes de service par leur ID commençant par "conversation-card-"
            const allConversationCards = document.querySelectorAll('.service-card[id^="conversation-card-"]');

            // Fonction pour initialiser la conversation pour une carte donnée
            function initCardConversation(cardElement) {
                const conversationMessagesContainer = cardElement.querySelector('.conversation-messages');
                const conversationData = allConversationsData[cardElement.id]; // Récupère les données par ID
                
                if (!conversationData) {
                    console.error(`No conversation data found for card ID: ${cardElement.id}`);
                    return; // Sortir si aucune donnée n'est trouvée
                }

                let currentMessageIndex = 0;
                let isConversationRunning = false;
                let timeoutId = null;

                function displayAllMessagesInstantaneously() {
                    conversationMessagesContainer.innerHTML = ''; // Efface les messages précédents
                    conversationData.forEach(messageInfo => {
                        const messageElement = document.createElement('div');
                        messageElement.classList.add('conversation-message');
                        if (messageInfo.speaker === 'Client') {
                            messageElement.classList.add('user');
                        }
                        messageElement.innerHTML = `<strong>${messageInfo.speaker}:</strong> ${messageInfo.text}`;
                        conversationMessagesContainer.appendChild(messageElement);
                        messageElement.classList.add('visible'); // Rend le message visible instantanément
                    });
                    conversationMessagesContainer.scrollTop = conversationMessagesContainer.scrollHeight; // Défile vers le bas
                }


                function displayNextAnimatedMessage() {
                    if (currentMessageIndex < conversationData.length) {
                        const messageInfo = conversationData[currentMessageIndex];
                        const messageElement = document.createElement('div');
                        messageElement.classList.add('conversation-message');
                        if (messageInfo.speaker === 'Client') {
                            messageElement.classList.add('user');
                        }
                        messageElement.innerHTML = `<strong>${messageInfo.speaker}:</strong> ${messageInfo.text}`;
                        
                        conversationMessagesContainer.appendChild(messageElement);

                        messageElement.offsetHeight; // Force reflow for CSS transition
                        messageElement.classList.add('visible');

                        // Scroll to the bottom of the messages container
                        conversationMessagesContainer.scrollTop = conversationMessagesContainer.scrollHeight;

                        currentMessageIndex++;
                        if (currentMessageIndex < conversationData.length) {
                            timeoutId = setTimeout(displayNextAnimatedMessage, 300); // 1 seconde de délai
                        } else {
                            isConversationRunning = false; // La conversation est terminée
                        }
                    }
                }

                function startCardAnimation() { // Déclenche l'animation de la conversation
                    if (!isConversationRunning) {
                        conversationMessagesContainer.innerHTML = ''; // Réinitialise la conversation
                        currentMessageIndex = 0;
                        isConversationRunning = true;
                        displayNextAnimatedMessage();
                    }
                }

                function stopCardAnimation() { // Arrête l'animation et efface les messages
                    if (isConversationRunning || conversationMessagesContainer.children.length > 0) {
                        clearTimeout(timeoutId);
                        isConversationRunning = false;
                        conversationMessagesContainer.innerHTML = '';
                        currentMessageIndex = 0;
                    }
                }
                
                // Ajoute les écouteurs d'événements pour l'animation au survol/focus
                cardElement.addEventListener('mouseenter', startCardAnimation);
                cardElement.addEventListener('focusin', startCardAnimation, true); 
                cardElement.addEventListener('mouseleave', stopCardAnimation);
            }

            // Applique la logique de conversation à toutes les cartes de service identifiées
            allConversationCards.forEach(card => {
                initCardConversation(card);
            });
        });
    </script>

</body>
</html>
